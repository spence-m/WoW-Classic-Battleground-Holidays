<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta
    name="description"
    content="Battleground holiday schedule 2022 for Classic Era, Season of Mastery, and Wrath of the Lich King Classic.">
  <title>WoW Classic Battleground Holidays 2022</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;700&display=swap"
    rel="stylesheet">
  <script type="module" src="main.js" defer></script>
</head>

<body>
<header class="header">
  <a href="/">
    <img
      class="logo"
      src="/images/logo.webp"
      alt="Logo showing an dwarf with a tankard of beer"
      width="256px"
      height="351px"
    >
  </a>
</header>
<main class="main">
  <h1 class="title">WoW Classic Battleground Holidays 2022</h1>
  <div class="content-wrapper">
    <article class="article" x-data="wotlkHolidays">
      <h1 class="subtitle subtitle--wotlk">
        Wrath of the Lich King Classic <b x-text="year"></b>
      </h1>
      <button
        type="button"
        class="button"
        :class="isDecrementDisabled() === true ? 'button--disabled' : ''"
        @click="decrementYear"
      >
        Previous year
      </button>
      <button type="button" class="button" @click="incrementYear">Next year</button>
      <div class="table-wrapper">
        <table>
          <thead>
          <tr>
            <th scope="col" class="table-heading">Arathi Basin</th>
            <th scope="col" class="table-heading">Strand of the Ancients</th>
            <th scope="col" class="table-heading">Alterac Valley</th>
            <th scope="col" class="table-heading">Eye of the Storm</th>
            <th scope="col" class="table-heading">Warsong Gulch</th>
          </tr>
          </thead>
          <tbody>
          <template x-for="(date, index) in dates">
            <tr>
              <td class="table-cell">
                <div
                  :class="isHoliday(date[0].date) === true ? 'triangle triangle--wotlk' : ''"
                ></div>
                <span
                  :class="isPast(date[0].date) === true ? 'table-cell--past' : ''"
                  x-text="formatDate(date[0].date)"
                ></span>
              </td>
              <td class="table-cell">
                <div
                  :class="isHoliday(date[1].date) === true ? 'triangle triangle--wotlk' : ''"
                ></div>
                <span
                  :class="isPast(date[1].date) === true ? 'table-cell--past' : ''"
                  x-text="formatDate(date[1].date)"
                ></span>
              </td>
              <td class="table-cell">
                <div
                  :class="isHoliday(date[2].date) === true ? 'triangle triangle--wotlk' : ''"
                ></div>
                <span
                  :class="isPast(date[2].date) === true ? 'table-cell--past' : ''"
                  x-text="formatDate(date[2].date)"
                ></span>
              </td>
              <td class="table-cell">
                <div
                  :class="isHoliday(date[3].date) === true ? 'triangle triangle--wotlk' : ''"
                ></div>
                <span
                  :class="isPast(date[3].date) === true ? 'table-cell--past' : ''"
                  x-text="formatDate(date[3].date)"
                ></span>
              </td>
              <td class="table-cell">
                <div
                  :class="isHoliday(date[4].date) === true ? 'triangle triangle--wotlk' : ''"
                ></div>
                <span
                  :class="isPast(date[4].date) === true ? 'table-cell--past' : ''"
                  x-text="formatDate(date[4].date)"
                ></span>
              </td>
            </tr>
          </template>
          </tbody>
        </table>
      </div>
    </article>

    <article class="article" x-data="classicEraHolidays">
      <h1 class="subtitle">SoM / Classic Era <b x-text="year"></b></h1>
      <button
        type="button"
        class="button"
        :class="isDecrementDisabled() === true ? 'button--disabled' : ''"
        :aria-disabled="isDecrementDisabled() === true"
        @click="decrementYear"
      >
        Previous year
      </button>
      <button type="button" class="button" @click="incrementYear">Next year</button>
      <div class="table-wrapper">
        <table>
          <thead>
          <tr>
            <th scope="col" class="table-heading">Warsong Gulch</th>
            <th scope="col" class="table-heading">Arathi Basin</th>
            <th scope="col" class="table-heading">Alterac Valley</th>
          </tr>
          </thead>
          <tbody>
          <template x-for="(date, index) in dates">
            <tr>
              <td class="table-cell">
                <div
                  :class="isHoliday(date[0].date) === true ? 'triangle' : ''"
                ></div>
                <span
                  :class="isPast(date[0].date) === true ? 'table-cell--past' : ''"
                  x-text="formatDate(date[0].date)"
                ></span>
              </td>
              <td class="table-cell">
                <div
                  :class="isHoliday(date[1].date) === true ? 'triangle' : ''"
                ></div>
                <span
                  :class="isPast(date[1].date) === true ? 'table-cell--past' : ''"
                  x-text="formatDate(date[1].date)"
                ></span>
              </td>
              <td class="table-cell">
                <div
                  :class="isHoliday(date[2].date) === true ? 'triangle' : ''"
                ></div>
                <span
                  :class="isPast(date[2].date) === true ? 'table-cell--past' : ''"
                  x-text="formatDate(date[2].date)"
                ></span>
              </td>
            </tr>
          </template>
          </tbody>
        </table>
      </div>
    </article>
  </div>
  <article class="helpful" x-data="foundHelpful">
    <h1 class="helpful__title">Found this helpful? Let us know then laddie!</h1>
    <template x-if="!hasVoted && !addingVote">
      <button type="button" class="helpful__button" @click="addVote()">Yes!</button>
    </template>
    <template x-if="hasVoted">
      <p class="helpful__text" x-text="await getVotes() + ' Dwarven brethren found this helpful'">Be right with ya,
        laddie...</p>
    </template>
    <template x-if="!hasVoted && addingVote">
      <p class="helpful__text">Cheers!</p>
    </template>
  </article>
</main>
<footer class="footer">
  <a href="/">
    <img
      class="logo"
      src="/images/logo.webp"
      alt="Logo showing an dwarf with a tankard of beer"
      width="256px"
      height="351px"
    >
  </a>
  <p class="footer__text" x-data x-text="new Date().getFullYear()"></p>
</footer>
</body>
</html>
